<UserControl
    x:Class="Strack.Desktop.UI.View.Account.Add.XingZheSessionView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:add="clr-namespace:Strack.Desktop.ViewModel.View.Account.Add"
    xmlns:cb="clr-namespace:CalcBinding;assembly=CalcBinding"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Strack.Desktop.UI.View.Account.Add"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    d:DataContext="{d:DesignInstance Type=add:XingZheSessionViewModel}"
    mc:Ignorable="d">

    <StackPanel>

        <!--  表单  -->
        <DockPanel>
            <wpfui:Button
                VerticalAlignment="Stretch"
                Appearance="Primary"
                Command="{Binding VerifySessionIdCommand}"
                Content="验证"
                DockPanel.Dock="Right" />

            <wpfui:TextBox PlaceholderText="请输入SessionId" Text="{Binding SessionId}" />

        </DockPanel>

        <!--  教程  -->
        <wpfui:HyperlinkButton FontSize="8">
            <wpfui:TextBlock FontTypography="Caption" Text="怎么获取?" />
        </wpfui:HyperlinkButton>

        <!--  错误提示  -->
        <wpfui:InfoBar
            Height="50"
            HorizontalAlignment="Center"
            IsClosable="False"
            IsOpen="True"
            Message="{Binding ErrorString}"
            Severity="Error"
            Visibility="{cb:Binding HasErrors}" />

        <!--  解析  -->
        <wpfui:Card
            Padding="20,10"
            HorizontalAlignment="Center"
            Visibility="{cb:Binding 'CurrentUser!=null'}">

            <StackPanel Orientation="Horizontal">

                <wpfui:Image
                    Width="50"
                    Height="50"
                    d:Source="/Asset/logo.ico"
                    CornerRadius="5"
                    Source="{Binding CurrentUser.AvatarUrl}" />

                <StackPanel Margin="5,0,0,0" VerticalAlignment="Center">

                    <wpfui:TextBlock
                        d:Text="名称"
                        FontTypography="BodyStrong"
                        Text="{Binding CurrentUser.Username}" />
                    <wpfui:TextBlock
                        d:Text="id"
                        FontTypography="Caption"
                        Text="{Binding CurrentUser.Id}" />

                </StackPanel>

            </StackPanel>

        </wpfui:Card>

    </StackPanel>

</UserControl>
